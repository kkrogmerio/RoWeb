{"version":3,"sources":["SideTabView.js"],"names":["React","useState","useEffect","View","StyleSheet","Text","TabNavigationState","useTheme","ScreenContainer","SafeAreaProviderCompat","ResourceSavingScene","TabBarView","Header","SceneContent","isFocused","children","colors","styles","content","backgroundColor","SideTabView","props","state","descriptors","lazy","rest","routes","loaded","setLoaded","index","container","pages","map","route","descriptor","key","unmountOnBlur","options","includes","absoluteFill","render","defaultProps","create","flexDirection","flex","overflow"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, StyleSheet, Text } from 'react-native';\n\nimport { TabNavigationState } from '@react-navigation/native';\nimport { useTheme } from '../theming';\n\nimport { ScreenContainer } from 'react-native-screens';\n\nimport SafeAreaProviderCompat from './SafeAreaProviderCompat';\nimport ResourceSavingScene from './ResourceSavingScene';\nimport TabBarView from './TabBarView';\nimport Header from './Header/Header';\n\n\nfunction SceneContent({\n  isFocused,\n  children,\n}) {\n  const { colors } = useTheme();\n\n  return (\n    <View\n      accessibilityElementsHidden={!isFocused}\n      importantForAccessibility={isFocused ? 'auto' : 'no-hide-descendants'}\n      style={[styles.content, { backgroundColor: 'red' }]}\n    >\n      {children}\n    </View>\n  );\n}\n\n\nconst SideTabView = (props) => {\n  const {\n    state,\n    descriptors,\n    lazy,\n    ...rest\n  } = props\n  const { routes } = state;\n  const [loaded, setLoaded] = useState([state.index]);\n\n  useEffect(() => {\n    setLoaded([...loaded, state.index])\n  }, [state.index]);\n\n  return (\n    <SafeAreaProviderCompat>\n      <View style={[\n        styles.container\n      ]}>\n        <TabBarView {...props}/>\n        <ScreenContainer style={styles.pages}>\n          {routes.map((route, index) => {\n            const descriptor = descriptors[route.key];\n            const { unmountOnBlur } = descriptor.options;\n            const isFocused = state.index === index;\n\n            if (unmountOnBlur && !isFocused) {\n              return null;\n            }\n\n            if (lazy && !loaded.includes(index) && !isFocused) {\n              // Don't render a screen if we've never navigated to it\n              return null;\n            }\n\n            return (\n              <ResourceSavingScene\n                key={route.key}\n                style={StyleSheet.absoluteFill}\n                isVisible={isFocused}\n              >\n                <Header descriptor={descriptor}/>\n                <SceneContent isFocused={isFocused}>\n                  {descriptor.render()}\n                </SceneContent>\n              </ResourceSavingScene>\n            );\n          })}\n        </ScreenContainer>\n      </View>\n    </SafeAreaProviderCompat>\n  );\n}\n\nSideTabView.defaultProps = {\n  lazy: true\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    flex: 1,\n    overflow: 'hidden',\n    overflow: 'purple',\n  },\n  pages: {\n    flex: 1,\n  },\n  content: {\n    flex: 1,\n  },\n});\n\nexport default SideTabView;"]}